(()=>{"use strict";var e={300:function(e,t){var o=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(r,c){function i(e){try{l(n.next(e))}catch(e){c(e)}}function a(e){try{l(n.throw(e))}catch(e){c(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWeather=t.fetchFromJokeAPI=t.fetchJoke=void 0,t.fetchJoke=()=>o(void 0,void 0,void 0,(function*(){try{const e=yield fetch("https://icanhazdadjoke.com/",{headers:{Accept:"application/json"}});return(yield e.json()).joke}catch(e){return console.error("Error al obtener el chiste:",e),"Error al obtener el chiste"}})),t.fetchFromJokeAPI=()=>o(void 0,void 0,void 0,(function*(){try{const e=yield fetch("https://v2.jokeapi.dev/joke/Any?type=single");return(yield e.json()).joke}catch(e){return console.error("Error al obtener el chiste:",e),"Error al obtener el chiste"}}));const n={0:"☀️",1:"🌤️",2:"⛅",3:"☁️",45:"🌫️",48:"🌫️",51:"🌦️",61:"🌧️",71:"❄️",95:"⛈️"};t.fetchWeather=()=>o(void 0,void 0,void 0,(function*(){try{const e=yield fetch("https://api.open-meteo.com/v1/forecast?latitude=41.38&longitude=2.15&current_weather=true");if(!e.ok)throw new Error("Error al obtener el clima.");const t=yield e.json(),o=Math.round(t.current_weather.temperature),r=t.current_weather.weathercode,c=n[r]||"Error Icon",i=document.getElementById("weather-icon"),a=document.getElementById("weather-temperature");return i&&a&&(i.textContent=c,a.textContent=`${o}ºC`),c}catch(e){return console.error("Error al obtener el clima:",e),"Error al obtener el clima"}}))},156:function(e,t,o){var n=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(r,c){function i(e){try{l(n.next(e))}catch(e){c(e)}}function a(e){try{l(n.throw(e))}catch(e){c(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=o(300);document.addEventListener("DOMContentLoaded",(()=>n(void 0,void 0,void 0,(function*(){const e=document.getElementById("joke-text"),t=document.getElementById("joke-next"),o=document.querySelectorAll(".score-btn"),c=document.getElementById("weather-icon");try{const e=yield(0,r.fetchWeather)();c.textContent=`${e}`}catch(e){console.error("Error al mostrar el clima:",e),c.textContent="Error al cargar la información meteorológica."}let i=[],a=null,l="";const d=()=>n(void 0,void 0,void 0,(function*(){const t=yield u();a=null,l=t,e.textContent=t,console.clear(),console.log(i)}));t.addEventListener("click",(()=>{if(l){const e={joke:l,score:a,date:(new Date).toString()};i.push(e)}d()})),o.forEach((e=>{e.addEventListener("click",(()=>{const t=parseInt(e.getAttribute("data-score")||"0");a=t}))}));const u=()=>n(void 0,void 0,void 0,(function*(){return Math.random()<.5?yield(0,r.fetchJoke)():yield(0,r.fetchFromJokeAPI)()}));d()}))))}},t={};!function o(n){var r=t[n];if(void 0!==r)return r.exports;var c=t[n]={exports:{}};return e[n].call(c.exports,c,c.exports,o),c.exports}(156)})();